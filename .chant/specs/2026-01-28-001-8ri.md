---
type: code
status: pending
target_files:
- src/index.test.ts
- package.json
---

# Add unit tests for the MCP server tools

## Problem

The bug-hunter-mcp server has no unit tests. The five core tools (`hunt_issues`, `analyze_repo`, `scaffold_solution`, `claim_issue`, `generate_chant_spec`) and their helper functions are untested, making it risky to refactor or extend the codebase.

## Solution

Add a test suite using Vitest with mocked GitHub API calls to test the core helper functions:
- `detectProjectType` - test detection of zig, rust, go, node, python projects
- `extractAcceptanceCriteria` - test parsing checkboxes and numbered lists
- `extractTargetFiles` - test file path extraction from issue bodies
- `generateSkeleton` - test skeleton generation for each project type

## Acceptance Criteria

- [ ] Install vitest as a dev dependency
- [ ] Add test script to package.json
- [ ] Create src/index.test.ts with tests for helper functions
- [ ] Test `detectProjectType` returns correct type for each project marker
- [ ] Test `extractAcceptanceCriteria` parses checkboxes and numbered lists
- [ ] Test `extractTargetFiles` extracts file paths from issue body
- [ ] Test `generateSkeleton` generates correct files for each project type
- [ ] All tests pass
