---
type: code
status: completed
target_files:
- src/index.ts
- LESSONS.md
commits:
- 4b5521b
completed_at: 2026-02-04T17:06:12Z
---
# Implement Difficulty & Concept Tagging System for LESSONS.md

## Background

From ROADMAP.md P0 priority: Add metadata to bug entries enabling structured learning progressions and pattern recognition across issues.

## Requirements

### 1. LESSONS.md Frontmatter Schema

Add YAML frontmatter to each bug entry section in LESSONS.md:

```yaml
difficulty: easy | medium | hard
concepts:
  - concept-name-1
  - concept-name-2
```

### 2. New MCP Tool: `filter_lessons`

Create a tool that filters LESSONS.md entries by:
- `difficulty`: Filter by skill level
- `concepts`: Filter by CS concept tags
- Returns matching bug entries with metadata

### 3. Concept Statistics

Track and display:
- Concepts mastered per session
- Cross-bug pattern detection ("you've seen this pattern in N other bugs")

## Acceptance Criteria

- [x] Define difficulty enum (easy/medium/hard) with clear rubric
- [x] Define initial concept taxonomy (≥10 CS concepts)
- [x] Add frontmatter to existing LESSONS.md entries
- [x] Create `filter_lessons` MCP tool with difficulty/concept params
- [x] Tool returns filtered entries with tags visible in output
- [x] Build succeeds with `npm run build`
- [x] All tests pass with `npm test`

## Technical Notes

- Parse LESSONS.md sections using markdown-it or regex
- Concept taxonomy: race-conditions, async-await, memory-management, type-systems, error-handling, testing, api-design, caching, concurrency, io-operations

## Agent Output

2026-02-04T17:06:15Z

```
I'll help you implement the Difficulty & Concept Tagging System for LESSONS.md. Let me start by exploring the codebase to understand the current structure.
Now let me explore the project structure to understand the codebase better.
Let me use Glob to explore the project structure:
Let me read the main project files to understand the structure:
Now let me look at the source code structure to understand how MCP tools are implemented:
Let me look at the main source file to understand the tool implementation:
Let me update my todo list and check the spec file to understand what needs to be implemented:
Now let me update my todo list and start implementing:
Let me start by implementing the system. First, I'll add the `filter_lessons` tool to the index.ts file and define the difficulty/concept types. Let me read the validators file first:
Now I'll add the filter_lessons tool implementation to index.ts. First, let me add the tool definition and implementation:
Now let's add the filter_lessons tool definition before the closing bracket of the tools array:
Now I need to add the implementation function for filter_lessons. Let me add it before the server setup:
Now I need to add the filter_lessons handler in the tool call switch statement:
Now let me update the LESSONS.md file to add frontmatter to the existing bug entries:
Now add frontmatter to The Volume Disaster entry:
Now let me update the todo list and build the project:
Now let's build the project:
Great! The build succeeded. Now let's run the tests:
Excellent! All tests pass. Now let me verify the distribution files were built correctly:
Perfect! Now let me verify that the filter_lessons tool is correctly defined in the generated distribution:
Excellent! The tool is properly compiled. Let me check git status and verify the changes:
Let me update the spec file to check off all the acceptance criteria:
Now let me add the model and timestamp to the spec frontmatter as instructed:
Perfect! Now let me commit the work with the proper commit message format:
Great! The commit was successful. Let me verify the git status is clean:
Perfect! Now let me verify the implementation by testing the filter_lessons tool with a quick sanity check:
Excellent! Let me finalize the todo list:
Perfect! Let me create a summary of what was implemented:

## Summary

I've successfully implemented the **Difficulty & Concept Tagging System for LESSONS.md**. Here's what was completed:

### ✅ Acceptance Criteria (All Met)

1. **Define difficulty enum** - Created three levels: `easy`, `medium`, `hard`
2. **Define concept taxonomy** - Implemented 14 CS concepts:
   - race-conditions, async-await, memory-management, type-systems
   - error-handling, testing, api-design, caching
   - concurrency, io-operations, pattern-matching, stream-processing
   - optimization, debugging

3. **Add frontmatter to LESSONS.md** - Added YAML frontmatter to existing entries:
   - Bun Issue #19952: `difficulty: medium`, concepts: stream-processing, debugging, type-systems
   - The Volume Disaster: `difficulty: hard`, concepts: error-handling, testing, api-design

4. **Create `filter_lessons` MCP tool** - New tool with:
   - `difficulty` parameter: Filter by skill level (easy/medium/hard)
   - `concepts` parameter: Filter by CS concept tags
   - `show_stats` parameter: Display concept statistics and cross-bug patterns
   - `limit` parameter: Limit results (1-50, default 10)

5. **Tool output features**:
   - Returns filtered entries with metadata tags visible
   - Shows difficulty and concepts for each matching entry
   - Displays concept frequency statistics when requested
   - Detects cross-bug patterns ("you've seen this pattern in N other bugs")

6. **Build & Tests**:
   - `npm run build` ✓ (TypeScript compilation successful)
   - `npm test` ✓ (All 62 tests passing)

### Key Implementation Details

- **LESSONS.md Parser**: Implemented custom parser that extracts bug entries from markdown sections and reads YAML frontmatter
- **Concept Matching**: Supports filtering by any combination of concepts
- **Statistics**: Automatically calculates concept frequency across all lessons and detects repeated patterns
- **Validation**: Full input validation using existing validator functions for difficulty levels and concepts

### Commit

Code committed with: `chant(2026-02-04-003-xpo): Implement difficulty & concept tagging system for LESSONS.md`

All changes are in the repository with a clean working tree. The system is ready to use for structured learning and pattern recognition across bug entries!```
