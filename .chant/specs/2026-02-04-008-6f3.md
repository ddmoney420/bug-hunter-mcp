---
type: code
status: in_progress
target_files:
- src/reproduce-environment.ts
- src/index.ts
---
# P2: Bug Reproduction Environment Templates

## Problem Description

When learning to fix bugs, developers need to set up local reproduction environments for target repositories. Currently, this process requires manual setup with potentially significant friction:
- Installing correct language versions
- Setting up build tools
- Managing dependencies
- Configuring environment variables

This friction reduces hands-on learning time and causes developers to lose focus on understanding the actual bug.

## Solution Approach

Create a new `scaffold_reproduce_environment` tool that:
1. Auto-detects repository tech stack (language, framework, build system)
2. Generates minimal reproducible environment templates (Dockerfile, docker-compose.yml, or shell scripts)
3. Integrates with the existing `analyze_repo` tool
4. Supports auto-generation based on detected tech stack
5. Creates language/framework-specific templates

## Acceptance Criteria

- [x] Implement `scaffold_reproduce_environment` MCP tool
- [x] Support language detection for Node.js, Python, Go, Rust, Java, .NET
- [x] Generate Dockerfile templates with minimal necessary dependencies
- [x] Generate docker-compose.yml for multi-service setups
- [x] Generate setup scripts (.sh for Linux/macOS, .bat for Windows)
- [x] Integrate with analyze_repo tool to auto-offer reproduction environment generation
- [x] Test template generation for at least 3 different tech stacks
- [x] Code formatted and builds cleanly (npm run build)
- [x] TypeScript compilation has no errors
- [x] All tests passing (npm test)